{% extends "base.html" %}
{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='extended_beauty.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}" />
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bottom-nav.css') }}">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tp-leaderboard.css') }}">
{% endblock %}

{% block content %}
<style>
body {
        background: linear-gradient(90deg, #134E5E, #71B280)!important;
        background-image: url('/static/images/banner_bg.png');
        background-size: 100%;
        background-position: center top -48px;
        font-family: 'Exo 2', sans-serif;
        color: #fff;
        margin: 0;
        padding: 0;
        padding-top: 75px;
        overflow-x: hidden;
        overflow-y: auto;
    }

 body::-webkit-scrollbar {
        width: 3px;
        height: 10px;
    }

    body::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, .1);
        border-radius: 10px;
    }

    body::-webkit-scrollbar-thumb {
        background-color: #ff6b81;
        border-radius: 10px;
    }

    body::-webkit-scrollbar-thumb:hover {
        background-color: #f7b733;
    }


.wordart-text {
  font-family: 'Exo 2', cursive;
  font-size: 24px;
  font-weight: bold;
  color: #ff6b6b;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
  letter-spacing: 3px;
  line-height: 1.3;
  text-align: center;
  transform: skew(-5deg);
  padding: 10px 0;
}

.zoomable-image {
  transition: transform 0.3s ease-in-out;
  border-radius: 15px;
  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
}

.zoomable-image:hover {
  transform: scale(1.15) rotate(5deg);
}

.flex-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px;
  padding: 20px 0;
}

.flex-item {
  text-align: center;
  padding: 10px;
  max-width: 120px;
  animation: fadeIn 1s ease-in-out;
}

.flex-item a {
  text-decoration: none;
  color: inherit;
}

.flex-item img {
  max-width: 100px;
  max-height: 100px;
}

.marquee-container {
  background: rgba(255, 105, 180, 0.8);
  color: white;
  padding: 1px 0;
  border-radius: 15px;
  animation: slideIn 1.5s ease-out;
}

img.logo {
  height: 450px;
  max-width: 100%;
  margin: 0px 0;
  border-radius: 10px;
  animation: zoomIn 1.5s ease-in-out;
}

h3.section-title {
  font-size: 28px;
  font-weight: bold;
  color: #2c3e50;
  font-family: 'Exo 2', sans-serif;
  margin: 15px 0;
  text-align: center;
}

.team-container {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.15);
  padding-left: 10px;
  padding-right: 10px;
  padding-top: 20px;
  padding-bottom: 20px;
  max-width: 90%;
  margin: 10px auto;
  animation: fadeInContainer 1.2s ease-in-out;
}

.card-wrapper {
  background: transparent;
  perspective: 1000px;
  width: 140px;
  height: 140px;
}

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.card-wrapper:hover .card-inner {
  transform: rotateY(180deg);
}

.card-front, .card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 50%;
  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  font-weight: bold;
  color: #333;
}

.card-front {
  background: linear-gradient(145deg, var(--c1) 10%, var(--c2) 70%);
}

.card-back {
  background: linear-gradient(145deg, var(--c1) 10%, var(--c2) 70%);
  transform: rotateY(180deg);
  color: var(--fc);
}

.card-image {
  width: 100px;
  border-radius: 10px;
}

.section-title-highlight {
  background: linear-gradient(135deg, #d53369, #daae51);
  -webkit-background-clip: text;
  color: transparent;
  font-size: 32px;
  font-weight: bold;
}

/* Dynamic Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes zoomIn {
  from { transform: scale(0.8); }
  to { transform: scale(1); }
}

@keyframes fadeInContainer {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
</style>

<center>
  <div style="padding: 0px 10px 10px 10px;" class="extra-padding">
    
    <div styke="padding-bottom: 20px;">
      <img src="{{ url_for('static', filename= 'images/IPL-Logo.png') }}" class="logo" style="height: 345px;" alt="TATA IPL Logo">
    </div>

    <!-- Points Table -->
    <div class="pt-main-container">
    <span class="pt-header">Points Table</span>
    <div class="standings-container">
      {% for team in pt %}
        <div class="team-card">
            <div class="team-rank-logo">
                <span class="rank">{{ loop.index }}<span class="rank-border">{{ loop.index }}</span></span>
                {% if team.qed == 'Q' %}<span class="form q">Q</span>{% endif %}
                <img src="/static/images/squad_logos/{{ team.team_name }}.png" alt="{{ team.team_name }} Logo" class="team-logo-1" style="{% if team.team_name == 'RCB' %} --c1: {{ clr[team.team_name]['c3'] }}; --c2: {{ clr[team.team_name]['c1'] }} {% elif team.team_name == 'GT' %} --c1: {{ clr[team.team_name]['c3'] }}; --c2: {{ clr[team.team_name]['c2'] }} {% elif team.team_name == 'MI' %} --c1: {{ clr[team.team_name]['c3'] }}; --c2: {{ clr[team.team_name]['c2'] }}  {% elif team.team_name == 'PBKS' %} --c1: {{ clr[team.team_name]['c2'] }}; --c2: {{ clr[team.team_name]['c1'] }} {% elif team.team_name == 'KKR' %} --c1: {{ clr[team.team_name]['c2'] }}; --c2: {{ clr[team.team_name]['c3'] }} {% else %} --c1: {{ clr[team.team_name]['c1'] }}; --c2: {{ clr[team.team_name]['c2'] }} {% endif %};">
            </div>
            <div class="team-name">{{ teams[team.team_name] }}</div>
            <div class="team-stats">
                <div><span class="stat-value">{{ team.Points }}</span><span class="stat-label">Points</span></div>
                <div><span class="stat-value">{{ team.P }}</span><span class="stat-label">Played</span></div>
                <div><span class="stat-value">{{ team.W }}</span><span class="stat-label">Won</span></div>
                <div><span class="stat-value nrr {{ 'positive' if team.NRR >= 0 else 'negative' }}">{{ team.NRR }}</span><span class="stat-label">NRR</span></div>
            </div>
            <div class="recent-form-label">Recent form</div>
            <div class="recent-form">
              {% set wl = team.Win_List | eval_str | dictsort(reverse=True) | map(attribute=1) | list %}
              {% set wl = wl if wl|length < 5 else wl[0:5] %}
              {% for match in wl %}
                <span class="form {{ match }}">{{ match if match != 'D' else 'N' }}</span>
              {% endfor %}
            </div>
        </div>
        {% endfor %}
      </div>
      </div>

      <!-- Toppers Section -->
       <div class="tp-main-container">
    <span class="tp-headline">Season Toppers</span>
    <div class="tp-container">
    <div class="tp-card-container orange">
      {% set oc = tp[0].stats %}
        <div class="player-card">
            <div class="player-image">
                <img src="/static/images/squads/{{ oc['Team'] }}/{{ oc['Player'] | replace(' ', '-') }}.png" alt="Player" />
            </div>
            <div class="player-info">
                <div class="card-name orange-text">Orange Cap</div>
                <div class="player-primary">
                <div class="player-rank">#1</div>
                <div class="player-name-block">
                        <span class="player-name firstname">{{ oc['Player'].split(' ')[0] }}</span>
                        <span class="player-name lastname">{{ oc['Player'].split(' ')[1:] | join(' ') }}</span>
                </div>
                <div class="player-runs">
                    <span class="runs orange-text">{{ oc['Runs'] }}</span>
                    <span class="runs-label">Runs</span>
                </div>
                </div>
                <div class="player-stats">
                    <div class="stat"><span>M</span><span>{{ oc['Mat'] }}</span></div>
                    <div class="stat"><span>HS</span><span>{{ oc['HS'] }}</span></div>
                    <div class="stat"><span>Avg.</span><span>{{ oc['Avg'] }}</span></div>
                    <div class="stat"><span>SR</span><span>{{ oc['SR'] }}</span></div>
                    <div class="stat"><span>50/100â€™s</span><span>{{ oc['50s'] }} / {{ oc['100s'] }}</span></div>
                </div>
            </div>
        </div>
        <a href="/battingstats?option=Most%20Runs" class="leaderboard-btn orange">View Full Leaderboard</a>
    </div>

    <div class="tp-card-container purple">
      {% set pc = tp[1].stats %}
        <div class="player-card">
            <div class="player-image">
                <img src="/static/images/squads/{{ pc['Team'] }}/{{ pc['Player'] | replace(' ', '-') }}.png" alt="Player" />
            </div>
            <div class="player-info">
                <div class="card-name purple-text">Purple Cap</div>
                <div class="player-primary">
                <div class="player-rank">#1</div>
                <div class="player-name-block">
                        <span class="player-name firstname">{{ pc['Player'].split(' ')[0] }}</span>
                        <span class="player-name lastname">{{ pc['Player'].split(' ')[1:] | join(' ') }}</span>
                </div>
                <div class="player-runs">
                    <span class="runs purple-text">{{ pc['Wkts'] }}</span>
                    <span class="runs-label">Wkts</span>
                </div>
                </div>
                <div class="player-stats">
                    <div class="stat"><span>M</span><span>{{ pc['Mat'] }}</span></div>
                    <div class="stat"><span>Avg.</span><span>{{ pc['Avg'] }}</span></div>
                    <div class="stat"><span>Econ</span><span>{{ pc['Eco'] }}</span></div>
                    <div class="stat"><span>4W/5W</span><span>{{ pc['4W'] }} / {{ pc['5W'] }}</span></div>
                    <div class="stat"><span>BBI</span><span>{{ pc['BBI'] }}</span></div>
                </div>
            </div>
        </div>
        <a href="/bowlingstats?option=Most%20Wickets" class="leaderboard-btn purple">View Full Leaderboard</a>
    </div>

    <div class="tp-card-container sr">
      {% set sr = tp[2].stats %}
        <div class="player-card">
            <div class="player-image">
                <img src="/static/images/squads/{{ sr['Team'] }}/{{ sr['Player'] | replace(' ', '-') }}.png" alt="Player" />
            </div>
            <div class="player-info">
                <div class="card-name sr-text">Super Striker</div>
                <div class="player-primary">
                <div class="player-rank">#1</div>
                <div class="player-name-block">
                        <span class="player-name firstname">{{ sr['Player'].split(' ')[0] }}</span>
                        <span class="player-name lastname">{{ sr['Player'].split(' ')[1:] | join(' ') }}</span>
                </div>
                <div class="player-runs">
                    <span class="runs sr-text" style="font-size: 20px; padding-block: 4.5px;">{{ sr['SR'] }}</span>
                    <span class="runs-label">SR</span>
                </div>
                </div>
                <div class="player-stats">
                    <div class="stat"><span>M</span><span>{{ sr['Mat'] }}</span></div>
                    <div class="stat"><span>Avg.</span><span>{{ sr['Avg'] }}</span></div>
                    <div class="stat"><span>HS</span><span>{{ sr['HS'] }}</span></div>
                    <div class="stat"><span>Runs</span><span>{{ sr['Runs'] }}</span></div>
                    <div class="stat"><span>50s/100s</span><span>{{ sr['50s'] }} / {{ sr['100s'] }}</span></div>
                </div>
            </div>
        </div>
        <a href="/battingstats?option=Best%20Batting%20Strike%20Rate" class="leaderboard-btn sr">View Full Leaderboard</a>
    </div>

    <div class="tp-card-container s6">
      {% set s6 = tp[3].stats %}
        <div class="player-card">
            <div class="player-image">
                <img src="/static/images/squads/{{ s6['Team'] }}/{{ s6['Player'] | replace(' ', '-') }}.png" alt="Player" />
            </div>
            <div class="player-info">
                <div class="card-name s6-text">Super Sixes</div>
                <div class="player-primary">
                <div class="player-rank">#1</div>
                <div class="player-name-block">
                        <span class="player-name firstname">{{ s6['Player'].split(' ')[0] }}</span>
                        <span class="player-name lastname">{{ s6['Player'].split(' ')[1:] | join(' ') }}</span>
                </div>
                <div class="player-runs">
                    <span class="runs s6-text">{{ s6['6s'] }}</span>
                    <span class="runs-label">Sixes</span>
                </div>
                </div>
                <div class="player-stats">
                    <div class="stat"><span>M</span><span>{{ s6['Mat'] }}</span></div>
                    <div class="stat"><span>Avg.</span><span>{{ s6['Avg'] }}</span></div>
                    <div class="stat"><span>HS</span><span>{{ s6['HS'] }}</span></div>
                    <div class="stat"><span>SR</span><span>{{ s6['SR'] }}</span></div>
                    <div class="stat"><span>50s/100s</span><span>{{ s6['50s'] }} / {{ s6['100s'] }}</span></div>
                </div>
            </div>
        </div>
        <a href="/battingstats?option=Most%20Sixes" class="leaderboard-btn s6">View Full Leaderboard</a>
    </div>
    </div>
    </div>
  </div>
</center>
<nav class="bottom-nav">
    <div class="bottom-nav-item">
        <a href="{{ url_for('main.displayFR') }}">
      <span class="material-icons-round">event</span>
      <span class="bottom-nav-label">MATCHES</span>
      </a>
    </div>
    <div class="bottom-nav-item">
        <a href="{{ url_for('main.displayPT') }}">
      <span class="material-icons-round">table_chart</span>
      <span class="bottom-nav-label">PTS TABLE</span>
      </a>
    </div>
    <div class="bottom-nav-item spacer"></div>
    <div class="bottom-nav-item live">
        <a href="{{ url_for('main.todayMatch') }}">
      <div class="live-circle"></div>
      <div class="live-content">
        <span class="material-icons-round zoomInOut">play_arrow</span>
        <span class="bottom-nav-label">LIVE</span>
      </div>
      </a>
    </div>
    <div class="bottom-nav-item spacer"></div>
    <div class="bottom-nav-item">
      <a href="{{ url_for('main.teams') }}">
      <span class="material-icons-round">groups</span>
      <span class="bottom-nav-label">TEAMS</span>
      </a>
    </div>
    <div class="bottom-nav-item">
      <a href="{{ url_for('main.battingstats') }}">
      <span class="material-icons-round">bar_chart</span>
      <span class="bottom-nav-label">STATS</span>
      </a>
    </div>
  </nav>
{% endblock %}
